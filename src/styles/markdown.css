@reference "./globals.css";

.markdown h1 {
  @apply mt-10 scroll-m-20 font-bold text-4xl;
}

.markdown h2 {
  @apply mt-10 scroll-m-20 border-b pb-2 font-semibold text-2xl;
}

.markdown h3 {
  @apply mt-6 scroll-m-20 border-b text-xl font-semibold tracking-tight;
}

.markdown h4 {
  @apply mt-6 scroll-m-20 border-b text-lg font-semibold tracking-tight;
}

.markdown h5 {
  @apply mt-6 scroll-m-20 border-b text-lg tracking-tight;
}

.markdown h6 {
  @apply mt-6 scroll-m-20 text-base tracking-tight;
}

.markdown a {
  @apply font-medium underline underline-offset-4 text-blue-400;
}

.markdown p {
  @apply not-first:mt-4 leading-7;
}

.markdown ul {
  @apply my-4 ml-4 list-disc;
}

.markdown ol {
  @apply my-4 ml-4 list-decimal;
}

.markdown li {
  @apply mt-2;
}

/* .markdown pre {
  @apply my-4 flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm overflow-auto;
} */

/* .dark .markdown pre,
.dark .markdown pre code {
  @apply bg-card;
} */

/* .markdown pre,
.markdown pre code {
  @apply bg-card;
} */

/* .markdown code {
  @apply relative rounded bg-muted px-[0.3rem] py-[0.2rem] text-sm;
} */

.markdown blockquote {
  @apply mt-4 border-l-2 pl-6 italic;
}

.light .markdown code[data-theme],
.light .markdown code[data-theme] span {
  color: var(--shiki-light);
  background-color: var(--shiki-light-bg);
}

.dark .markdown code[data-theme],
.dark .markdown code[data-theme] span {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

.markdown pre {
  @apply relative my-6 rounded-lg overflow-x-auto border !bg-transparent;
  box-shadow: none;
}

.markdown pre code {
  @apply block py-2 font-mono text-sm leading-relaxed;
}

.light .markdown pre code {
  @apply !bg-transparent;
}

/* Light mode adjustments */
.light .markdown pre {
  @apply text-zinc-800;
}

[data-rehype-pretty-code-title] {
  @apply rounded-t-lg py-2 px-4 font-bold text-sm border border-b-0 bg-card text-card-foreground;
  letter-spacing: 0.02em;
  margin-bottom: 0;
}

[data-highlighted-line] {
  @apply !bg-primary/10 border-l-2 border-primary;
}

figure[data-rehype-pretty-code-figure]:has(> [data-rehype-pretty-code-title])
  pre {
  @apply !rounded-t-none mt-0;
}

.markdown code:not(pre code) {
  @apply text-sm rounded bg-muted px-1.5 py-0.5 text-blue-600 dark:text-blue-400;
}

span[data-line] {
  @apply px-4;
}

code[data-line-numbers] {
  counter-reset: line;
}

code[data-line-numbers] > [data-line]::before {
  counter-increment: line;
  content: counter(line);
  @apply inline-block w-4 mr-4 text-right text-muted-foreground;
}

code[data-line-numbers-max-digits="2"] > [data-line]::before {
  width: 1.25rem;
}

code[data-line-numbers-max-digits="3"] > [data-line]::before {
  width: 1.75rem;
}

code[data-line-numbers-max-digits="4"] > [data-line]::before {
  width: 2.25rem;
}

pre {
  @apply !px-0 rounded-lg;
}

code {
  @apply text-sm md:text-base !leading-loose;
}

figure {
  @apply mb-6 mt-1;
}
